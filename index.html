<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìö Biblioteca Digital - Clean Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; background: #f8fafc; color: #334155; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        /* Navigation */
        .nav { position: fixed; top: 0; left: 0; right: 0; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); z-index: 1000; padding: 15px 0; box-shadow: 0 2px 20px rgba(0,0,0,0.1); }
        .nav-content { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .nav-logo { font-size: 1.5em; font-weight: bold; color: #3b82f6; }
        .nav-links { display: flex; gap: 30px; }
        .nav-links a { text-decoration: none; color: #64748b; font-weight: 500; transition: color 0.3s; }
        .nav-links a:hover { color: #3b82f6; }
        
        /* Hero Section */
        .hero { margin-top: 80px; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 100px 20px; border-radius: 20px; margin-bottom: 60px; position: relative; overflow: hidden; }
        .hero h1 { font-size: 4.5em; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .hero .subtitle { font-size: 1.8em; margin-bottom: 30px; opacity: 0.95; }
        .hero .description { font-size: 1.3em; margin-bottom: 40px; max-width: 900px; margin-left: auto; margin-right: auto; opacity: 0.9; }
        
        /* Buttons */
        .btn { display: inline-block; padding: 15px 35px; text-decoration: none; border-radius: 12px; font-weight: 600; transition: all 0.3s; margin: 10px; box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        .btn-primary { background: linear-gradient(135deg, #10b981, #059669); color: white; }
        .btn-secondary { background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 12px 35px rgba(0,0,0,0.25); }
        
        /* Section Styles */
        .section { margin: 80px 0; }
        .section-title { font-size: 3em; text-align: center; margin-bottom: 50px; color: #1e293b; position: relative; }
        .section-title::after { content: ''; position: absolute; bottom: -15px; left: 50%; transform: translateX(-50%); width: 100px; height: 4px; background: linear-gradient(90deg, #3b82f6, #8b5cf6); border-radius: 2px; }
        
        /* C4 Tabs */
        .c4-tabs { margin: 40px 0; }
        .tab-buttons { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 30px; justify-content: center; }
        .tab-btn { background: #f1f5f9; border: 2px solid #e2e8f0; padding: 12px 20px; border-radius: 10px; cursor: pointer; transition: all 0.3s; font-weight: 600; }
        .tab-btn:hover { background: #e2e8f0; }
        .tab-btn.active { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; border-color: #1d4ed8; }
        .tab-content { margin-top: 30px; }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }
        
        /* C4 Diagrams */
        .c4-diagram { background: white; border-radius: 15px; padding: 40px; margin: 30px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        .diagram-title { font-size: 1.8em; color: #1e293b; margin-bottom: 30px; text-align: center; }
        
        /* Mermaid Diagram Styling */
        .mermaid { background: #fafafa; border-radius: 10px; padding: 20px; margin: 20px 0; }
        
        /* Architecture Cards */
        .arch-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; margin: 50px 0; }
        .arch-card { background: white; border-radius: 20px; padding: 35px; box-shadow: 0 15px 35px rgba(0,0,0,0.08); transition: all 0.4s; position: relative; overflow: hidden; }
        .arch-card:hover { transform: translateY(-10px); box-shadow: 0 25px 50px rgba(0,0,0,0.15); }
        .arch-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 6px; }
        .domain::before { background: linear-gradient(90deg, #10b981, #059669); }
        .application::before { background: linear-gradient(90deg, #8b5cf6, #7c3aed); }
        .infrastructure::before { background: linear-gradient(90deg, #f59e0b, #d97706); }
        .presentation::before { background: linear-gradient(90deg, #ef4444, #dc2626); }
        
        .arch-card .icon { font-size: 3.5em; margin-bottom: 20px; }
        .arch-card h3 { font-size: 1.8em; margin-bottom: 15px; color: #1e293b; }
        .arch-card .badge { display: inline-block; padding: 6px 15px; border-radius: 25px; font-size: 0.85em; font-weight: 700; color: white; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1px; }
        .domain .badge { background: linear-gradient(135deg, #10b981, #059669); }
        .application .badge { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .infrastructure .badge { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .presentation .badge { background: linear-gradient(135deg, #ef4444, #dc2626); }
        
        /* Features Grid */
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .feature-card { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 8px 25px rgba(0,0,0,0.06); border-left: 5px solid #3b82f6; transition: all 0.3s; }
        .feature-card:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(0,0,0,0.12); }
        .feature-card h4 { color: #1e293b; margin-bottom: 10px; font-size: 1.2em; }
        
        /* SOLID Principles */
        .solid-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .solid-card { background: linear-gradient(135deg, #f8fafc, #e2e8f0); border-radius: 15px; padding: 25px; text-align: center; border: 2px solid #e2e8f0; transition: all 0.3s; }
        .solid-card:hover { border-color: #3b82f6; transform: translateY(-3px); }
        .solid-card .principle-icon { font-size: 3em; margin-bottom: 15px; }
        .solid-card h4 { color: #1e293b; margin-bottom: 10px; }
        
        /* Tech Stack */
        .tech-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .tech-item { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-left: 4px solid #3b82f6; }
        .tech-item strong { color: #1e293b; display: block; margin-bottom: 5px; }
        
        /* Footer */
        .footer { background: linear-gradient(135deg, #1e293b, #334155); color: white; padding: 60px 20px; border-radius: 20px; text-align: center; margin-top: 80px; }
        .footer h3 { margin-bottom: 20px; font-size: 2em; }
        .footer p { opacity: 0.9; margin-bottom: 30px; font-size: 1.1em; }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.8em; }
            .hero .subtitle { font-size: 1.3em; }
            .nav-links { display: none; }
            .arch-grid { grid-template-columns: 1fr; }
            .section-title { font-size: 2.2em; }
            .mermaid { padding: 10px; overflow-x: auto; }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <div class="nav-logo">üìö Biblioteca Digital</div>
            <div class="nav-links">
                <a href="#arquitectura">Arquitectura</a>
                <a href="#c4-model">Modelo C4</a>
                <a href="#funcionalidades">Funcionalidades</a>
                <a href="#codigo">C√≥digo</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Hero Section -->
        <section class="hero">
            <h1>üìö Biblioteca Digital</h1>
            <div class="subtitle">Clean Architecture + Modelo C4</div>
            <div class="description">
                Sistema completo de gesti√≥n de bibliotecas digitales implementando los principios de 
                <strong>Arquitectura Limpia</strong> de Robert C. Martin y documentado con el <strong>Modelo C4</strong>
            </div>
            <a href="https://github.com/Edwinramirezgon/biblioteca-digital-clean-architecture" class="btn btn-primary">üöÄ Ver C√≥digo Completo</a>
            <a href="#arquitectura" class="btn btn-secondary">üìñ Explorar Arquitectura</a>
        </section>

        <!-- Arquitectura Section -->
        <section class="section" id="arquitectura">
            <h2 class="section-title">üèóÔ∏è Arquitectura Limpia - Capas Conc√©ntricas</h2>
            
            <div class="mermaid">
flowchart TD
    subgraph P ["üñ•Ô∏è PRESENTACI√ìN"]
        PC[Controllers]
        PR[Routes]
        PM[Middleware]
    end
    
    subgraph I ["üîß INFRAESTRUCTURA"]
        IR[Repositories]
        IS[External Services]
        ID[Database]
    end
    
    subgraph A ["üìã APLICACI√ìN"]
        AU[Use Cases]
        AI[Interfaces]
        AS[Services]
    end
    
    subgraph D ["üéØ DOMINIO"]
        DE[Entities]
        DR[Rules]
        DV[Value Objects]
    end
    
    P --> A
    A --> D
    I --> A
    
    style P fill:#ef4444,stroke:#dc2626,color:#fff
    style I fill:#f59e0b,stroke:#d97706,color:#fff
    style A fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style D fill:#10b981,stroke:#059669,color:#fff
            </div>

            <div class="arch-grid">
                <div class="arch-card domain">
                    <div class="icon">üéØ</div>
                    <div class="badge">CORE</div>
                    <h3>Capa de Dominio</h3>
                    <p><strong>Entidades:</strong> User, Book, Loan, Reservation</p>
                    <p><strong>Responsabilidad:</strong> Reglas de negocio puras e invariantes</p>
                    <p><strong>Dependencias:</strong> NINGUNA - Completamente independiente</p>
                </div>
                
                <div class="arch-card application">
                    <div class="icon">üìã</div>
                    <div class="badge">USE CASES</div>
                    <h3>Capa de Aplicaci√≥n</h3>
                    <p><strong>Casos de Uso:</strong> BorrowBook, SearchBooks, ReserveBook</p>
                    <p><strong>Responsabilidad:</strong> Orquestaci√≥n y l√≥gica de aplicaci√≥n</p>
                    <p><strong>Dependencias:</strong> Solo hacia el dominio</p>
                </div>
                
                <div class="arch-card infrastructure">
                    <div class="icon">üîß</div>
                    <div class="badge">ADAPTERS</div>
                    <h3>Capa de Infraestructura</h3>
                    <p><strong>Implementaciones:</strong> Repositorios, servicios externos</p>
                    <p><strong>Responsabilidad:</strong> Detalles t√©cnicos y comunicaci√≥n</p>
                    <p><strong>Dependencias:</strong> Hacia aplicaci√≥n (v√≠a interfaces)</p>
                </div>
                
                <div class="arch-card presentation">
                    <div class="icon">üñ•Ô∏è</div>
                    <div class="badge">UI/API</div>
                    <h3>Capa de Presentaci√≥n</h3>
                    <p><strong>Componentes:</strong> Controllers, Routes, Middleware</p>
                    <p><strong>Responsabilidad:</strong> Interfaz con el mundo exterior</p>
                    <p><strong>Dependencias:</strong> Solo hacia casos de uso</p>
                </div>
            </div>
        </section>

        <!-- Modelo C4 Section -->
        <section class="section" id="c4-model">
            <h2 class="section-title">üìä Modelo C4 - Documentaci√≥n en 4 Niveles</h2>
            
            <div class="c4-tabs">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="showTab('nivel1')">üåç Nivel 1: Contexto</button>
                    <button class="tab-btn" onclick="showTab('nivel2')">üì¶ Nivel 2: Contenedores</button>
                    <button class="tab-btn" onclick="showTab('nivel3')">üîß Nivel 3: Componentes</button>
                    <button class="tab-btn" onclick="showTab('nivel4')">üíª Nivel 4: C√≥digo</button>
                </div>
                
                <div class="tab-content">
                    <!-- Nivel 1: Contexto -->
                    <div id="nivel1" class="tab-panel active">
                        <div class="c4-diagram">
                            <div class="diagram-title">Nivel 1: Diagrama de Contexto del Sistema</div>
                            <div class="mermaid">
flowchart TB
    subgraph "Usuarios"
        U1[üë§ Lectores<br/>Buscan y leen libros]
        U2[üë®üíº Administradores<br/>Gestionan sistema]
    end
    
    S[üìö Sistema de Biblioteca Digital<br/>Gestiona pr√©stamos, reservas y lectura]
    
    subgraph "Sistemas Externos"
        E1[üìñ Proveedor de Contenido<br/>Libros digitales]
        E2[üí≥ Pasarela de Pago<br/>Stripe]
        E3[üìß Servicio de Email<br/>SendGrid]
    end
    
    U1 --> S
    U2 --> S
    S --> E1
    S --> E2
    S --> E3
    
    style U1 fill:#3b82f6,stroke:#1d4ed8,color:#fff
    style U2 fill:#10b981,stroke:#059669,color:#fff
    style S fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style E1 fill:#64748b,stroke:#475569,color:#fff
    style E2 fill:#64748b,stroke:#475569,color:#fff
    style E3 fill:#64748b,stroke:#475569,color:#fff
                            </div>
                        </div>
                    </div>
                    
                    <!-- Nivel 2: Contenedores -->
                    <div id="nivel2" class="tab-panel">
                        <div class="c4-diagram">
                            <div class="diagram-title">Nivel 2: Diagrama de Contenedores</div>
                            <div class="mermaid">
flowchart TB
    U[üë§ Usuarios]
    
    subgraph "Sistema de Biblioteca Digital"
        W[üåê Aplicaci√≥n Web<br/>React + TypeScript<br/>Interfaz responsive]
        A[‚ö° API REST<br/>Node.js + Express<br/>Clean Architecture]
        D[üóÑÔ∏è Base de Datos<br/>PostgreSQL<br/>Usuarios, libros, pr√©stamos]
        C[‚ö° Cache<br/>Redis<br/>Sesiones y b√∫squedas]
    end
    
    E1[üìö Proveedor Contenido]
    E2[üí≥ Stripe]
    E3[üìß SendGrid]
    
    U --> W
    W --> A
    A --> D
    A --> C
    A --> E1
    A --> E2
    A --> E3
    
    style W fill:#3b82f6,stroke:#1d4ed8,color:#fff
    style A fill:#10b981,stroke:#059669,color:#fff
    style D fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style C fill:#f59e0b,stroke:#d97706,color:#fff
    style E1 fill:#64748b,stroke:#475569,color:#fff
    style E2 fill:#64748b,stroke:#475569,color:#fff
    style E3 fill:#64748b,stroke:#475569,color:#fff
                            </div>
                        </div>
                    </div>
                    
                    <!-- Nivel 3: Componentes -->
                    <div id="nivel3" class="tab-panel">
                        <div class="c4-diagram">
                            <div class="diagram-title">Nivel 3: Componentes de la API REST</div>
                            <div class="mermaid">
flowchart TD
    subgraph P ["üñ•Ô∏è PRESENTACI√ìN"]
        BC[BookController]
        UC[UserController]
        AC[AuthController]
        MW[Middleware]
    end
    
    subgraph A ["üìã APLICACI√ìN"]
        BBU[BorrowBookUseCase]
        SBU[SearchBooksUseCase]
        RBU[ReserveBookUseCase]
        SI[Service Interfaces]
    end
    
    subgraph D ["üéØ DOMINIO"]
        UE[User Entity]
        BE[Book Entity]
        LE[Loan Entity]
        RI[Repository Interfaces]
    end
    
    subgraph I ["üîß INFRAESTRUCTURA"]
        PR[PostgreSQL Repos]
        ES[Email Service]
        PS[Payment Service]
        EA[External APIs]
    end
    
    BC --> BBU
    UC --> SBU
    AC --> RBU
    BBU --> UE
    SBU --> BE
    RBU --> LE
    SI --> RI
    PR --> RI
    ES --> SI
    PS --> SI
    
    style P fill:#ef4444,stroke:#dc2626,color:#fff
    style A fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style D fill:#10b981,stroke:#059669,color:#fff
    style I fill:#f59e0b,stroke:#d97706,color:#fff
                            </div>
                        </div>
                    </div>
                    
                    <!-- Nivel 4: C√≥digo -->
                    <div id="nivel4" class="tab-panel">
                        <div class="c4-diagram">
                            <div class="diagram-title">Nivel 4: Estructura de Clases</div>
                            <div class="mermaid">
classDiagram
    class BorrowBookUseCase {
        -userRepository: IUserRepository
        -bookRepository: IBookRepository
        -loanRepository: ILoanRepository
        +execute(userId, bookId) Promise~Loan~
    }
    
    class User {
        -id: string
        -email: string
        -role: UserRole
        +isPremium() boolean
        +canBorrowBooks() boolean
    }
    
    class Book {
        -id: string
        -title: string
        -status: BookStatus
        +isAvailable() boolean
        +requiresPremium() boolean
    }
    
    class Loan {
        -id: string
        -userId: string
        -bookId: string
        -borrowDate: Date
        -dueDate: Date
        +calculateFine() number
        +isOverdue() boolean
    }
    
    BorrowBookUseCase --> User : uses
    BorrowBookUseCase --> Book : uses
    BorrowBookUseCase --> Loan : creates
    User --> Loan : has many
    Book --> Loan : has many
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Funcionalidades Section -->
        <section class="section" id="funcionalidades">
            <h2 class="section-title">‚úÖ Funcionalidades Implementadas</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h4>üîç B√∫squeda Avanzada</h4>
                    <p>B√∫squeda de libros con m√∫ltiples criterios: t√≠tulo, autor, g√©nero, formato, disponibilidad</p>
                </div>
                <div class="feature-card">
                    <h4>üìö Pr√©stamos Inteligentes</h4>
                    <p>Gesti√≥n de pr√©stamos f√≠sicos y digitales con validaciones autom√°ticas de negocio</p>
                </div>
                <div class="feature-card">
                    <h4>üîñ Sistema de Reservas</h4>
                    <p>Reservas autom√°ticas con notificaciones por email cuando los libros est√°n disponibles</p>
                </div>
                <div class="feature-card">
                    <h4>üëë Membres√≠as Premium</h4>
                    <p>Beneficios adicionales, l√≠mites extendidos y acceso a contenido digital exclusivo</p>
                </div>
                <div class="feature-card">
                    <h4>üìä Historial Completo</h4>
                    <p>Seguimiento detallado de pr√©stamos, devoluciones y toda la actividad del usuario</p>
                </div>
                <div class="feature-card">
                    <h4>üîß Panel Administrativo</h4>
                    <p>Gesti√≥n completa de inventario, usuarios, pol√≠ticas y generaci√≥n de reportes</p>
                </div>
            </div>
        </section>

        <!-- Principios SOLID -->
        <section class="section">
            <h2 class="section-title">‚ö° Principios SOLID Aplicados</h2>
            <div class="solid-grid">
                <div class="solid-card">
                    <div class="principle-icon">üéØ</div>
                    <h4>Single Responsibility</h4>
                    <p>Cada clase tiene una sola raz√≥n para cambiar</p>
                </div>
                <div class="solid-card">
                    <div class="principle-icon">üîì</div>
                    <h4>Open/Closed</h4>
                    <p>Abierto para extensi√≥n, cerrado para modificaci√≥n</p>
                </div>
                <div class="solid-card">
                    <div class="principle-icon">üîÑ</div>
                    <h4>Liskov Substitution</h4>
                    <p>Objetos intercambiables sin alterar funcionamiento</p>
                </div>
                <div class="solid-card">
                    <div class="principle-icon">üîå</div>
                    <h4>Interface Segregation</h4>
                    <p>Interfaces espec√≠ficas y cohesivas</p>
                </div>
                <div class="solid-card">
                    <div class="principle-icon">üîÑ</div>
                    <h4>Dependency Inversion</h4>
                    <p>Dependencias hacia abstracciones</p>
                </div>
            </div>
        </section>

        <!-- Stack Tecnol√≥gico -->
        <section class="section">
            <h2 class="section-title">üöÄ Stack Tecnol√≥gico</h2>
            <div class="tech-grid">
                <div class="tech-item">
                    <strong>Backend</strong>
                    Node.js + TypeScript + Express
                </div>
                <div class="tech-item">
                    <strong>Base de datos</strong>
                    PostgreSQL + Redis
                </div>
                <div class="tech-item">
                    <strong>Testing</strong>
                    Jest + Supertest + Coverage
                </div>
                <div class="tech-item">
                    <strong>Servicios</strong>
                    Stripe + SendGrid + AWS S3
                </div>
                <div class="tech-item">
                    <strong>Documentaci√≥n</strong>
                    VitePress + GitHub Pages
                </div>
                <div class="tech-item">
                    <strong>CI/CD</strong>
                    GitHub Actions + Deployment
                </div>
            </div>
        </section>

        <!-- Footer -->
        <div class="footer">
            <h3>üéØ Proyecto Completo de Clean Architecture</h3>
            <p>
                Implementaci√≥n profesional siguiendo principios SOLID ‚Ä¢ Modelo C4 documentado ‚Ä¢ 
                Testing comprehensivo ‚Ä¢ Casos de uso reales funcionando
            </p>
            <a href="https://github.com/Edwinramirezgon/biblioteca-digital-clean-architecture" class="btn btn-primary">Ver C√≥digo en GitHub</a>
            <p style="margin-top: 30px; opacity: 0.8; font-size: 0.9em;">
                Desarrollado como demostraci√≥n de Clean Architecture y mejores pr√°cticas de desarrollo de software
            </p>
        </div>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default'
        });

        // Tab functionality
        function showTab(tabId) {
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>